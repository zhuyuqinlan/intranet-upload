# 局域网文件中心

🌸 一个支持分片上传、文件夹管理、批量操作的局域网文件共享系统 ✨

## 功能特性

- 📁 **文件夹管理**: 支持创建文件夹、树形目录结构
- 🚀 **分片上传**: 大文件分片上传，支持断点续传
- 🔄 **批量操作**: 支持批量删除、批量下载
- 🎨 **二次元风格**: 可爱的界面设计和动画效果
- 🔍 **搜索过滤**: 快速查找文件
- 💾 **离线部署**: 无需外部依赖，适合内网环境

## 快速开始

### 环境要求

- Node.js >= 14.0.0
- npm 或 yarn

### 安装运行

```bash
# 1. 安装依赖
npm install

# 2. 启动服务
npm start

# 3. 访问系统
# 浏览器打开: http://localhost:3000
```

## 使用说明

### 文件上传

1. 点击上传区域或拖拽文件到页面
2. 支持单个文件或批量文件上传
3. 大文件自动分片上传，提高成功率
4. 相同文件名会提示是否覆盖

### 文件管理

- **文件夹操作**: 创建新文件夹，点击文件夹名进入
- **导航**: 使用面包屑导航在不同文件夹间切换
- **搜索**: 顶部搜索框支持文件名过滤
- **批量选择**: 点击文件卡片选择多个文件

### 文件操作

- **下载**: 点击文件名或下载按钮
- **删除**: 单个删除或批量删除（无需确认）
- **查看详情**: 悬停文件卡片查看文件大小和上传时间

## 技术架构

- **前端**: 原生 JavaScript + CSS3，无框架依赖
- **后端**: Node.js + Express.js
- **文件处理**: Multer 分片上传
- **存储**: 本地文件系统 + JSON 元数据

## 目录结构

```
intranet-upload/
├── uploads/        # 用户上传的文件
├── temp/          # 分片上传临时文件
├── js/            # JavaScript 库
├── css/           # 样式文件
├── server.js      # 后端服务
├── index.html     # 前端页面
└── file-info.json # 文件元数据
```

## 配置说明

默认配置如下，可在 `server.js` 中修改：

- 端口: 3000 (可通过环境变量 PORT 修改)
- 分片大小: 10MB
- 上传目录: `./uploads`
- 临时目录: `./temp`

## 部署建议

### 内网部署

本项目已本地化所有依赖，适合内网环境：

1. 将整个项目拷贝到内网服务器
2. 安装 Node.js 环境
3. 运行 `npm install` 和 `npm start`
4. 通过内网 IP 访问，如 `http://192.168.1.100:3000`

### 生产环境

建议使用 PM2 或 forever 等进程管理工具：

```bash
# 安装 PM2
npm install -g pm2

# 启动服务
pm2 start server.js --name "file-center"

# 开机自启
pm2 startup
pm2 save
```

## 注意事项

- ⚠️ 删除操作不可恢复，请谨慎操作
- ⚠️ 文件上传会占用服务器磁盘空间，定期清理
- ⚠️ 大文件上传需要稳定的网络环境
- ⚠️ 建议定期备份 `uploads` 目录和 `file-info.json`

## 更新日志

### v2.0.0
- ✨ 新增文件夹管理功能
- ✨ 实现文件树状结构
- ✨ 添加批量操作支持
- ✨ 优化为二次元风格界面
- ✨ 本地化所有第三方库依赖
- 🐛 修复分片上传问题
- 🐛 修复批量删除路由冲突

## License

ISC